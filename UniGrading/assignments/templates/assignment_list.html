{% extends 'base.html' %}
{% load static %}
{% load view_breadcrumbs %}

{% block title %}Assignments{% endblock %}

{% block content %}
<div class="container mt-5">
    <!-- Breadcrumbs -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            {% for name, url in breadcrumbs %}
                <li class="breadcrumb-item">
                    <a href="{{ url }}">{{ name }}</a>
                </li>
            {% endfor %}
        </ol>
    </nav>

    <!-- Header -->
    <h2>{{ subject.name }} - Assignments</h2>

    <!-- Create Assignment Button (Only for Professors) -->
    {% if user.role == "professor" %}
        <a href="{% url 'assignments:create' subject.id %}" class="btn btn-primary">
            <i class="fas fa-plus"></i> Create Assignment
        </a>
    {% endif %}

    <!-- List Assignments -->
    <ul class="list-group mt-3">
        {% for assignment in assignments %}
            <li class="list-group-item">
                <a href="{% url 'assignments:assignment_detail' assignment.pk %}">{{ assignment.title }}</a>
            </li>
        {% empty %}
            <li class="list-group-item text-muted">No assignments yet.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
